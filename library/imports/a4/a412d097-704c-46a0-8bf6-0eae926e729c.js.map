{"version":3,"sources":["../../../../../../assets/script/view/component/assets/script/view/component/MenuView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/script/view/component","sourcesContent":["import AppFacade from \"../../AppFacade\";\nimport MenuViewMediator from \"../MenuViewMediator\";\nimport Util from \"../../util/Util\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class MenuView extends cc.Component {\n\n    @property(cc.Node)\n    playerNode: cc.Node = null;\n\n    @property(cc.Node)\n    mode2Node: cc.Node = null;\n\n    @property(cc.Node)\n    mode4Node: cc.Node = null;\n\n    onLoad() {\n    }\n\n    start() {\n        AppFacade.getInstance().registerMediator(new MenuViewMediator(this));\n    }\n\n    public onDestroy() {\n        AppFacade.getInstance().removeMediator(MenuViewMediator.NAME);\n    }\n\n    // 切换游戏模式\n    public setModeType(modeType: number) {\n        if (modeType == 2) {\n            this.mode2Node.active = true;\n            this.mode4Node.active = false;\n        } else {\n            this.mode2Node.active = false;\n            this.mode4Node.active = true;\n        }\n    }\n\n    // 展示用户信息\n    public setUserInfo(avatarUrl: string, nickName: string) {\n        if (avatarUrl) {\n            let head = this.playerNode.getChildByName('mask').getChildByName('head')\n            let headBG = head.getComponent(cc.Sprite);\n\n            head.active = true;\n\n            cc.loader.load({\n                url: avatarUrl,\n                type: 'jpg'\n            }, function (err, texture) {\n                console.log(\"加载头像\", err);\n                if (err == null) {\n                    headBG.spriteFrame = new cc.SpriteFrame(texture);\n                }\n            });\n        }\n        if (nickName) {\n            nickName = Util.cutstr(nickName, 5);\n            let name = this.playerNode.getChildByName('name').getComponent(cc.Label);\n            name.string = nickName;\n        }\n    }\n\n    // 在creator编辑器与按钮绑定，在mediator里实现\n    mode2ButtonClick(event, data) { }\n\n    mode4ButtonClick(event, data) { }\n\n    team2ButtonClick(event, data) { }\n\n    team4ButtonClick(event, data) { }\n\n    match2ButtonClick(event, data) { }\n\n    machine2ButtonClick(event, data) { }\n\n}\n"]}